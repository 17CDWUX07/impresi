!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("impresi",[],e):"object"==typeof exports?exports.impresi=e():t.impresi=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.board=e.board,this.options=n,this.element=null,n.id&&(this.id=n.id)}var e,n,r;return e=t,(n=[{key:"addElement",value:function(t){this.element=document.createElement(t),this.board.appendChild(this.element)}}])&&o(e.prototype,n),r&&o(e,r),t}();e.default=r,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,r=(o=n(2))&&o.__esModule?o:{default:o};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))).defaultInAnimationName="slideInUp",o}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r.default),n=e,(o=[{key:"addElement",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addElement",this).call(this,t),this.options.width&&(this.element.style.maxWidth="".concat(this.options.width,"vw"),this.element.style.overflow="hidden"),this.options.backgroundColor&&(this.element.style.backgroundColor=this.options.backgroundColor),this.options.inAnimationName=null!=this.options.inAnimationName?this.options.inAnimationName:this.defaultInAnimationName}},{key:"setChildOptions",value:function(t){t.style.fontSize="".concat(this.getFontSize(),"vw"),this.options.fontColor&&(t.style.color=this.options.fontColor)}},{key:"getFontSize",value:function(){return null!=this.options.fontSize?this.options.fontSize:this.defaultFontSize}}])&&u(n.prototype,o),i&&u(n,i),e}();e.default=f,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,r=(o=n(0))&&o.__esModule?o:{default:o};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),n.x||(o.options.x="10"),n.y||(o.options.y="10"),o}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r.default),n=e,(o=[{key:"addElement",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addElement",this).call(this,t),this.element.style.left="".concat(this.options.x,"vw"),this.element.style.top="".concat(this.options.y,"vh")}}])&&u(n.prototype,o),i&&u(n,i),e}();e.default=f,t.exports=e.default},function(t,e,n){"use strict";(function(o){var r,i,u,a=h(n(5)),s=h(n(6)),c=h(n(7)),l=h(n(8)),f=h(n(9)),p=h(n(10)),d=n(11);function h(t){return t&&t.__esModule?t:{default:t}}function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}u=function(){return function(){var t=function(){function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("ID for board is required");if(this.board=document.querySelector("#"+e),!this.board)throw new Error("No HTML element with the ID: "+e);this.options=o,this.groups=[],this.screenIndex=0,this.index=0,n&&this.addResources(n),this.init()}var e,n,o;return e=t,(n=[{key:"init",value:function(){this.getStyles(),this.setListeners(),this.displayLoader()}},{key:"setListeners",value:function(){var t=this,e=this;document.body.onkeyup=function(n){32!==n.keyCode&&40!==n.keyCode&&39!==n.keyCode&&13!==n.keyCode||t.index<t.groups.length-1&&(e.next(),t.screenIndex++,window.location.hash="screen".concat(t.screenIndex)),38!==n.keyCode&&37!==n.keyCode||t.index>0&&e.previous(e.index===e.groups.length-1)}}},{key:"getStyles",value:function(){var t=document.createElement("style");t.type="text/css",t.innerHTML=d.styles,this.board.appendChild(t),(t=document.createElement("style")).type="text/css",t.innerHTML='@import url("https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css");',this.board.appendChild(t)}},{key:"displayLoader",value:function(){var t=document.createElement("div");t.classList.add("overlay");var e=document.createElement("div");e.innerHTML="<div></div><div></div>",e.classList.add("lds-ripple"),t.appendChild(e),document.body.appendChild(t)}},{key:"createBackground",value:function(t){return new a.default(this,t)}},{key:"createHeading",value:function(t,e){return new s.default(this,t,e)}},{key:"createBlurb",value:function(t,e){return new c.default(this,t,e)}},{key:"createImage",value:function(t,e){return new p.default(this,t,e)}},{key:"addActions",value:function(t){return t.out&&this.addGroup("out",t),t.in&&this.addGroup("in",t),this}},{key:"addGroup",value:function(t,e){var n=[];e[t].forEach(function(t){var e=new f.default(t);n.push(e)});var o=new l.default(t,n);this.groups.push(o)}},{key:"next",value:function(){var t=this.groups[this.index];if("out"===t.actionName){if(!t.actions.length)throw new Error("No actions provided.");t.stop(),this.increment(),this.next()}else t.run(),this.index<this.groups.length-1&&this.increment()}},{key:"previous",value:function(t){if(1!==this.index){t||this.decrement();var e=this.groups[this.index];if("in"===e.actionName){if(!e.actions.length)throw new Error("No actions provided.");e.stop(),t?(this.decrement(),this.previous(!0)):this.previous(this.index===this.groups.length-1)}else e.run(),this.screenIndex--,window.location.hash="screen".concat(this.screenIndex)}}},{key:"start",value:function(){if(!this.groups.length)throw new Error("No groups of actions have been added yet.");if(window.location.hash){var t=window.location.hash;if(t.match("^#screen[0-9]+$")){var e=t.match("[0-9]+");if(e&&(this.screenIndex=parseInt(e[0])),this.screenIndex>0&&this.screenIndex<=this.groups.length/2+1)for(var n=0;n<this.screenIndex;n++)this.next();else this.screenIndex=1,window.location.hash="screen1",this.next()}}else this.next(),this.screenIndex++,window.location.hash="screen1";document.querySelector(".overlay").classList.add("hide")}},{key:"increment",value:function(){this.index!==this.groups.length-1&&this.index++}},{key:"decrement",value:function(){this.index>0&&this.index--}},{key:"addResources",value:function(t){var e=this;if(!t.resources)throw new Error("No resources exist in the data.");var n=[];t.resources.forEach(function(t){if(!t.type)throw new Error("All items must have a type.");if(!t.id)throw new Error("All items must have an id.");switch(t.options||(t.options={}),t.options.id=t.id,t.type){case"background":n.push(e.createBackground(t.options));break;case"heading":n.push(e.createHeading(t.text,t.options));break;case"blurb":n.push(e.createBlurb(t.text,t.options));break;case"image":n.push(e.createImage(t.src,t.options));break;default:return}}),t.actions.forEach(function(t){for(var o in t)t.hasOwnProperty(o)&&function(){var r={};r[o]=[],t[o].forEach(function(t){for(var e=0;e<n.length;e++){var i=n[e];if(i.id==t){r[o].push(i);break}}}),e.addActions(r)}()})}}])&&y(e.prototype,n),o&&y(e,o),t}();return o.Impresi=t,t}()},"object"===b(e)&&void 0!==t?t.exports=u():void 0===(i="function"==typeof(r=u)?r.call(e,n,e,t):r)||(t.exports=i)}).call(this,n(4))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,r=(o=n(0))&&o.__esModule?o:{default:o};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o))).addElement("div"),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r.default),n=e,(o=[{key:"addElement",value:function(t){if(s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addElement",this).call(this,t),this.element.classList.add("background","item"),this.options.imageUrl){var n=document.createElement("img");n.src=this.options.imageUrl,this.element.appendChild(n)}else this.options.backgroundColor&&(this.element.style.backgroundColor=this.options.backgroundColor)}}])&&u(n.prototype,o),i&&u(n,i),e}();e.default=f,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,r=(o=n(1))&&o.__esModule?o:{default:o};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t,n){var o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r))).text=n,o.zIndex=1,o.defaultFontSize=2,o.addElement("div"),o}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r.default),n=e,(o=[{key:"addElement",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addElement",this).call(this,t),this.element.classList.add("heading","item");var n=document.createElement("h1");this.element.style.zIndex=this.zIndex,n.innerHTML=this.text,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setChildOptions",this).call(this,n),this.element.appendChild(n)}}])&&u(n.prototype,o),i&&u(n,i),e}();e.default=f,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,r=(o=n(1))&&o.__esModule?o:{default:o};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t,n){var o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r))).text=n,o.zIndex=2,o.defaultFontSize=1.5,o.addElement("div"),o}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r.default),n=e,(o=[{key:"addElement",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addElement",this).call(this,t),this.element.style.maxWidth="".concat(this.options.width,"vw"),this.element.classList.add("blurb","item"),this.element.style.zIndex=this.zIndex;var n=document.createElement("p");n.innerHTML=this.text,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setChildOptions",this).call(this,n),this.element.appendChild(n)}}])&&u(n.prototype,o),i&&u(n,i),e}();e.default=f,t.exports=e.default},function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.actionName=e,this.actions=n}var e,n,r;return e=t,(n=[{key:"run",value:function(){this.actions.forEach(function(t){t.run(),0})}},{key:"stop",value:function(){this.actions.forEach(function(t){t.stop(),0})}}])&&o(e.prototype,n),r&&o(e,r),t}();e.default=r,t.exports=e.default},function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.item=e,this.inAnimationName=null!=this.item.options.inAnimationName?e.options.inAnimationName:"fadeIn",this.outAnimationName=null!=e.options.outAnimationName?e.options.outAnimationName:"fadeOut"}var e,n,r;return e=t,(n=[{key:"run",value:function(){this.item.element.classList.remove("hide"),this.item.element.classList.remove(this.outAnimationName),this.item.element.classList.add("animated",this.inAnimationName)}},{key:"stop",value:function(){this.item.element.classList.remove("animated",this.inAnimationName),this.item.element.classList.add(this.outAnimationName),this.item.element.classList.add("hide")}}])&&o(e.prototype,n),r&&o(e,r),t}();e.default=r,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,r=(o=n(2))&&o.__esModule?o:{default:o};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t,n,o){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o))).defaultInAnimationName="slideInUp",r.src=n,r.zIndex=1,r.addElement("img"),r}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r.default),n=e,(o=[{key:"addElement",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addElement",this).call(this,t),this.options.width&&(this.element.style.maxWidth="".concat(this.options.width,"vw"),this.element.style.overflow="hidden"),this.options.inAnimationName=null!=this.options.inAnimationName?this.options.inAnimationName:this.defaultInAnimationName,this.element.classList.add("image","item"),this.element.style.zIndex=this.zIndex,this.element.src=this.src}}])&&u(n.prototype,o),i&&u(n,i),e}();e.default=f,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.styles=void 0;e.styles='\nbody {\n  margin: 0;\n  text-align: center;\n}\n\n*, *:before, *:after {\n  box-sizing: border-box;\n}\n\nh1,\np {\n  font-family: "Montserrat", sans-serif;\n}\n\n.item {\n  visibility: hidden;\n}\n\n.animated {\n  visibility: visible;\n}\n\n.hide {\n  display: none;\n}\n\n.background {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow: hidden;\n  width: 100vw;\n  height: 100vh;\n}\n\n.background img {\n  flex-shrink: 0;\n  min-width: 100%;\n  min-height: 100%;\n}\n\n.heading,\n.blurb,\n.background,\n.image {\n  position: absolute;\n  background-color: #333;\n}\n\n.heading,\n.blurb {\n  padding: 15px;\n}\n\n.heading h1 {\n  font-size: 2.4em;\n}\n\n.blurb p {\n  font-size: 1.4em;\n}\n\n.heading h1,\n.blurb p {\n  margin: 0;\n  color: #fff;\n}\n.overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 10;\n  background-color: #333;\n  width: 100vw;\n  height: 100vh;\n}\n\n.lds-ripple {\n  display: inline-block;\n  position: fixed;\n  top: 40vh;\n  left: calc(50vw - 32px);\n  width: 64px;\n  height: 64px;\n}\n.lds-ripple div {\n  position: absolute;\n  border: 4px solid #fff;\n  opacity: 1;\n  border-radius: 50%;\n  animation: lds-ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;\n}\n.lds-ripple div:nth-child(2) {\n  animation-delay: -0.5s;\n}\n@keyframes lds-ripple {\n  0% {\n    top: 28px;\n    left: 28px;\n    width: 0;\n    height: 0;\n    opacity: 1;\n  }\n  100% {\n    top: -1px;\n    left: -1px;\n    width: 58px;\n    height: 58px;\n    opacity: 0;\n  }\n}\n\n\n@media only screen and (max-width: 600px) {\n  .heading,\n  .blurb,\n  .image {\n    position: static;\n    display: block;\n  }\n\n  .image {\n    width: 100vw;\n    max-width: 100vw !important;\n  }\n\n  .heading h1 {\n    font-size: 5vw;\n  }\n\n  .blurb p {\n    font-size: 4vw;\n  }\n}\n'}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbXByZXNpL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9pbXByZXNpL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2ltcHJlc2kvLi9zcmMvbGliL2l0ZW0uanMiLCJ3ZWJwYWNrOi8vaW1wcmVzaS8uL3NyYy9saWIvdGV4dC1pdGVtLmpzIiwid2VicGFjazovL2ltcHJlc2kvLi9zcmMvbGliL2Fic29sdXRlLWl0ZW0uanMiLCJ3ZWJwYWNrOi8vaW1wcmVzaS8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9pbXByZXNpLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly9pbXByZXNpLy4vc3JjL2xpYi9iYWNrZ3JvdW5kLmpzIiwid2VicGFjazovL2ltcHJlc2kvLi9zcmMvbGliL2hlYWRpbmcuanMiLCJ3ZWJwYWNrOi8vaW1wcmVzaS8uL3NyYy9saWIvYmx1cmIuanMiLCJ3ZWJwYWNrOi8vaW1wcmVzaS8uL3NyYy9saWIvZ3JvdXAuanMiLCJ3ZWJwYWNrOi8vaW1wcmVzaS8uL3NyYy9saWIvYWN0aW9uLmpzIiwid2VicGFjazovL2ltcHJlc2kvLi9zcmMvbGliL2ltYWdlLmpzIiwid2VicGFjazovL2ltcHJlc2kvLi9zcmMvc3R5bGVzLmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInNlbGYiLCJ0aGlzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkl0ZW0iLCJpbXByZXNpIiwib3B0aW9ucyIsIl9jbGFzc0NhbGxDaGVjayIsImJvYXJkIiwiZWxlbWVudCIsImlkIiwiZWxlbWVudE5hbWUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsIl9hYnNvbHV0ZUl0ZW0iLCJUZXh0SXRlbSIsIl90aGlzIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfX3Byb3RvX18iLCJnZXRQcm90b3R5cGVPZiIsImRlZmF1bHRJbkFuaW1hdGlvbk5hbWUiLCJfZ2V0Iiwid2lkdGgiLCJzdHlsZSIsIm1heFdpZHRoIiwiY29uY2F0Iiwib3ZlcmZsb3ciLCJiYWNrZ3JvdW5kQ29sb3IiLCJpbkFuaW1hdGlvbk5hbWUiLCJ1bmRlZmluZWQiLCJjaGlsZCIsImZvbnRTaXplIiwiZ2V0Rm9udFNpemUiLCJmb250Q29sb3IiLCJjb2xvciIsImRlZmF1bHRGb250U2l6ZSIsIl9pdGVtIiwiQWJzb2x1dGVJdGVtIiwieCIsInkiLCJsZWZ0IiwidG9wIiwiX2JhY2tncm91bmQiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX2hlYWRpbmciLCJfYmx1cmIiLCJfZ3JvdXAiLCJfYWN0aW9uIiwiX2ltYWdlIiwiX3N0eWxlcyIsIkltcHJlc2kiLCJib2FyZElkIiwiZGF0YSIsImFyZ3VtZW50cyIsImxlbmd0aCIsIkVycm9yIiwicXVlcnlTZWxlY3RvciIsImdyb3VwcyIsInNjcmVlbkluZGV4IiwiaW5kZXgiLCJhZGRSZXNvdXJjZXMiLCJpbml0IiwiZ2V0U3R5bGVzIiwic2V0TGlzdGVuZXJzIiwiZGlzcGxheUxvYWRlciIsImJvZHkiLCJvbmtleXVwIiwiZSIsImtleUNvZGUiLCJuZXh0Iiwid2luZG93IiwibG9jYXRpb24iLCJoYXNoIiwicHJldmlvdXMiLCJzdHlsZUVsIiwidHlwZSIsImlubmVySFRNTCIsInN0eWxlcyIsIm92ZXJsYXkiLCJjbGFzc0xpc3QiLCJhZGQiLCJsb2FkZXIiLCJkZWZhdWx0IiwidGV4dCIsInNyYyIsIm91dCIsImFkZEdyb3VwIiwiaW4iLCJhY3Rpb25OYW1lIiwiYWN0aW9ucyIsImZvckVhY2giLCJpdGVtIiwiYWN0aW9uIiwicHVzaCIsImdyb3VwIiwic3RvcCIsImluY3JlbWVudCIsInJ1biIsImlzTGFzdCIsImRlY3JlbWVudCIsImZyYWciLCJtYXRjaCIsIm1hdGNoZXMiLCJwYXJzZUludCIsIl90aGlzMiIsInJlc291cmNlcyIsIml0ZW1zIiwicmVzb3VyY2UiLCJjcmVhdGVCYWNrZ3JvdW5kIiwiY3JlYXRlSGVhZGluZyIsImNyZWF0ZUJsdXJiIiwiY3JlYXRlSW1hZ2UiLCJhY3Rpb25zT2JqIiwiaXRlbUlkIiwiX2kiLCJhZGRBY3Rpb25zIiwiZ2xvYmFsIiwiX3R5cGVvZiIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fIiwiZyIsIkZ1bmN0aW9uIiwiQmFja2dyb3VuZCIsImFkZEVsZW1lbnQiLCJpbWFnZVVybCIsImltYWdlIiwiX3RleHRJdGVtIiwiSGVhZGluZyIsInpJbmRleCIsImgxIiwiQmx1cmIiLCJHcm91cCIsIkFjdGlvbiIsIm91dEFuaW1hdGlvbk5hbWUiLCJyZW1vdmUiLCJJbWFnZSJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsR0FDQSxpQkFBQUMsU0FBQSxpQkFBQUMsT0FDQUEsT0FBQUQsUUFBQUQsSUFDQSxtQkFBQUcsZUFBQUMsSUFDQUQsT0FBQSxhQUFBSCxHQUNBLGlCQUFBQyxRQUNBQSxRQUFBLFFBQUFELElBRUFELEVBQUEsUUFBQUMsSUFSQSxDQVNDLG9CQUFBSyxVQUFBQyxLQUFBLFdBQ0QsbUJDVEEsSUFBQUMsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBUixRQUdBLElBQUFD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S0FBS3NLLGtCQUNyQ3RLLEtBQUs0SCxLQUFLbkYsUUFBUXVFLFVBQVVDLElBQUksNktDdEJ0QyxNQUFBbEUsS0FBQTdDLEVBQUEsa25DQUNxQnNLLGNBQ2pCLFNBQUFBLEVBQVluSSxFQUFTZ0YsRUFBSy9FLEdBQVMsSUFBQVcsRUFBQSxtR0FBQVYsQ0FBQXZDLEtBQUF3SyxJQUMvQnZILEVBQUFDLEVBQUFsRCxNQUFBd0ssRUFBQXJILFdBQUFyQyxPQUFBc0MsZUFBQW9ILElBQUFqSyxLQUFBUCxLQUFNcUMsRUFBU0MsS0FDVmUsdUJBQXlCLFlBQzlCSixFQUFLb0UsSUFBTUEsRUFDWHBFLEVBQUtnSCxPQUFTLEVBQ2RoSCxFQUFLMkcsV0FBVyxPQUxlM0csNFNBUXhCTixHQUNQVyxFQUFBa0gsRUFBQXhJLFVBQUFtQixXQUFBckMsT0FBQXNDLGVBQUFvSCxFQUFBeEksV0FBQSxhQUFBaEMsTUFBQU8sS0FBQVAsS0FBaUIyQyxHQUNiM0MsS0FBS3NDLFFBQVFpQixRQUNidkQsS0FBS3lDLFFBQVFlLE1BQU1DLFNBQW5CLEdBQUFDLE9BQWlDMUQsS0FBS3NDLFFBQVFpQixNQUE5QyxNQUNBdkQsS0FBS3lDLFFBQVFlLE1BQU1HLFNBQVcsVUFFbEMzRCxLQUFLc0MsUUFBUXVCLGdCQUFrREMsTUFBaEM5RCxLQUFLc0MsUUFBUXVCLGdCQUN0QzdELEtBQUtzQyxRQUFRdUIsZ0JBQWtCN0QsS0FBS3FELHVCQUUxQ3JELEtBQUt5QyxRQUFRdUUsVUFBVUMsSUFBSSxRQUFTLFFBQ3BDakgsS0FBS3lDLFFBQVFlLE1BQU15RyxPQUFTakssS0FBS2lLLE9BQ2pDakssS0FBS3lDLFFBQVE0RSxJQUFNckgsS0FBS3FILGlMQ3JCYiIsImZpbGUiOiJpbXByZXNpLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiaW1wcmVzaVwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJpbXByZXNpXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcImltcHJlc2lcIl0gPSBmYWN0b3J5KCk7XG59KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXRlbSB7XG4gICAgY29uc3RydWN0b3IoaW1wcmVzaSwgb3B0aW9ucykge1xuICAgICAgdGhpcy5ib2FyZCA9IGltcHJlc2kuYm9hcmQ7XG4gICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICAgIC8vcmVzb3VyY2VzIGNyZWF0ZWQgdGhyb3VnaCBKU09OIGRhdGEgcHJvdmlkZSBhbiBJRCB0aHJvdWdoIHRoZSBvcHRpb25zXG4gICAgICBpZiAob3B0aW9ucy5pZCkge1xuICAgICAgICB0aGlzLmlkID0gb3B0aW9ucy5pZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRFbGVtZW50KGVsZW1lbnROYW1lKSB7XG4gICAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGVsZW1lbnROYW1lKTtcbiAgICAgIHRoaXMuYm9hcmQuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgICB9XG4gIH1cbiAgIiwiaW1wb3J0IEFic29sdXRlSXRlbSBmcm9tIFwiLi9hYnNvbHV0ZS1pdGVtXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0SXRlbSBleHRlbmRzIEFic29sdXRlSXRlbSB7XG4gICAgY29uc3RydWN0b3IoaW1wcmVzaSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihpbXByZXNpLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5kZWZhdWx0SW5BbmltYXRpb25OYW1lID0gXCJzbGlkZUluVXBcIjtcblxuICAgIH1cblxuICAgIGFkZEVsZW1lbnQoZWxlbWVudE5hbWUpIHtcbiAgICAgICAgc3VwZXIuYWRkRWxlbWVudChlbGVtZW50TmFtZSk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMud2lkdGgpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5tYXhXaWR0aCA9IGAke3RoaXMub3B0aW9ucy53aWR0aH12d2A7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5vcHRpb25zLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9wdGlvbnMuaW5BbmltYXRpb25OYW1lID0gdGhpcy5vcHRpb25zLmluQW5pbWF0aW9uTmFtZSAhPSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gdGhpcy5vcHRpb25zLmluQW5pbWF0aW9uTmFtZSA6IHRoaXMuZGVmYXVsdEluQW5pbWF0aW9uTmFtZTtcbiAgICB9XG5cbiAgICBzZXRDaGlsZE9wdGlvbnMoY2hpbGQpIHtcbiAgICAgICAgY2hpbGQuc3R5bGUuZm9udFNpemUgPSBgJHt0aGlzLmdldEZvbnRTaXplKCl9dndgO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZvbnRDb2xvcikge1xuICAgICAgICAgICAgY2hpbGQuc3R5bGUuY29sb3IgPSB0aGlzLm9wdGlvbnMuZm9udENvbG9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Rm9udFNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZm9udFNpemUgIT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHRoaXMub3B0aW9ucy5mb250U2l6ZSA6IHRoaXMuZGVmYXVsdEZvbnRTaXplO1xuICAgIH1cbn0iLCJpbXBvcnQgSXRlbSBmcm9tIFwiLi9pdGVtXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBYnNvbHV0ZUl0ZW0gZXh0ZW5kcyBJdGVtIHtcbiAgY29uc3RydWN0b3IoaW1wcmVzaSwgb3B0aW9ucykge1xuICAgIHN1cGVyKGltcHJlc2ksIG9wdGlvbnMpO1xuICAgIGlmICghb3B0aW9ucy54KSB7XG4gICAgICB0aGlzLm9wdGlvbnMueCA9IFwiMTBcIjsgLy9kZWZhdWx0XG4gICAgfVxuICAgIGlmICghb3B0aW9ucy55KSB7XG4gICAgICB0aGlzLm9wdGlvbnMueSA9IFwiMTBcIjsgLy9kZWZhdWx0XG4gICAgfVxuICAgXG4gIH1cblxuICBhZGRFbGVtZW50KGVsZW1lbnROYW1lKSB7XG4gICAgc3VwZXIuYWRkRWxlbWVudChlbGVtZW50TmFtZSlcbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUubGVmdCA9IGAke3RoaXMub3B0aW9ucy54fXZ3YDtcbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUudG9wID0gYCR7dGhpcy5vcHRpb25zLnl9dmhgO1xuICB9XG59XG4iLCIvKiohXG4gKiBAZmlsZU92ZXJ2aWV3IEEgSmF2YXNjcmlwdCBsaWJyYXJ5IGZvciBjcmVhdGluZyBiZWF1dGlmdWwgc2xpZGUgcHJlc2VudGF0aW9ucy5cbiAqIEB2ZXJzaW9uIDAuMC4zXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE5IFJpY2hhcmQgTG92ZWxsIGFuZCBjb250cmlidXRvcnNcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAnU29mdHdhcmUnKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbFxuICogY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgJ0FTIElTJywgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRVxuICogU09GVFdBUkUuXG4gKi9cblxuaW1wb3J0IEJhY2tncm91bmQgZnJvbSAnLi9saWIvYmFja2dyb3VuZCc7XG5pbXBvcnQgSGVhZGluZyBmcm9tICcuL2xpYi9oZWFkaW5nJztcbmltcG9ydCBCbHVyYiBmcm9tICcuL2xpYi9ibHVyYic7XG5pbXBvcnQgR3JvdXAgZnJvbSAnLi9saWIvZ3JvdXAnO1xuaW1wb3J0IEFjdGlvbiBmcm9tICcuL2xpYi9hY3Rpb24nO1xuaW1wb3J0IEltYWdlIGZyb20gJy4vbGliL2ltYWdlJztcbmltcG9ydCB7IHN0eWxlcyB9IGZyb20gJy4vc3R5bGVzJztcblxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gICAgICAoZ2xvYmFsLkltcHJlc2kgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG5cblxuICAgdmFyIEltcHJlc2kgPSBmdW5jdGlvbiAoKSB7XG4gIGNsYXNzIEltcHJlc2kge1xuICAgIGNvbnN0cnVjdG9yKGJvYXJkSWQsIGRhdGEsIG9wdGlvbnMgPSBbXSkge1xuICAgICAgaWYgKCFib2FyZElkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSUQgZm9yIGJvYXJkIGlzIHJlcXVpcmVkJyk7XG4gICAgICB9XG4gICAgICB0aGlzLmJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBib2FyZElkKTtcbiAgICAgIGlmICghdGhpcy5ib2FyZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIEhUTUwgZWxlbWVudCB3aXRoIHRoZSBJRDogJyArIGJvYXJkSWQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgdGhpcy5ncm91cHMgPSBbXTtcbiAgICAgIHRoaXMuc2NyZWVuSW5kZXggPSAwO1xuICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICB0aGlzLmFkZFJlc291cmNlcyhkYXRhKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICB0aGlzLmdldFN0eWxlcygpO1xuICAgICAgdGhpcy5zZXRMaXN0ZW5lcnMoKTtcbiAgICAgIHRoaXMuZGlzcGxheUxvYWRlcigpO1xuICAgIH1cblxuICAgIHNldExpc3RlbmVycygpIHtcbiAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgIGRvY3VtZW50LmJvZHkub25rZXl1cCA9IGUgPT4ge1xuICAgICAgICAvL2luY3JlbWVudCBrZXlzOiBzcGFjZSwgZG93biwgcmlnaHQgb3IgZW50ZXJcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGUua2V5Q29kZSA9PT0gMzIgfHxcbiAgICAgICAgICBlLmtleUNvZGUgPT09IDQwIHx8XG4gICAgICAgICAgZS5rZXlDb2RlID09PSAzOSB8fFxuICAgICAgICAgIGUua2V5Q29kZSA9PT0gMTNcbiAgICAgICAgKSB7XG5cbiAgICAgICAgICBpZiAodGhpcy5pbmRleCA8IHRoaXMuZ3JvdXBzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIHNlbGYubmV4dCgpO1xuICAgICAgICAgICAgdGhpcy5zY3JlZW5JbmRleCsrO1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBgc2NyZWVuJHt0aGlzLnNjcmVlbkluZGV4fWA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vZGVjcmVtZW50IGtleXM6IHVwIG9yIGxlZnRcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMzggfHwgZS5rZXlDb2RlID09PSAzNykge1xuICAgICAgICAgIGlmICh0aGlzLmluZGV4ID4gMCkge1xuICAgICAgICAgICAgc2VsZi5wcmV2aW91cyhzZWxmLmluZGV4ID09PSBzZWxmLmdyb3Vwcy5sZW5ndGggLSAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0U3R5bGVzKCkge1xuICAgICAgLy9jb3JlIHN0eWxlc1xuICAgICAgbGV0IHN0eWxlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgc3R5bGVFbC50eXBlID0gJ3RleHQvY3NzJztcbiAgICAgIHN0eWxlRWwuaW5uZXJIVE1MID0gc3R5bGVzO1xuICAgICAgdGhpcy5ib2FyZC5hcHBlbmRDaGlsZChzdHlsZUVsKTtcblxuICAgICAgLy9hbmltYXRpb24gc3R5bGVzXG4gICAgICBzdHlsZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgIHN0eWxlRWwudHlwZSA9ICd0ZXh0L2Nzcyc7XG4gICAgICBzdHlsZUVsLmlubmVySFRNTCA9XG4gICAgICAgICdAaW1wb3J0IHVybChcImh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2FuaW1hdGUuY3NzLzMuNy4wL2FuaW1hdGUubWluLmNzc1wiKTsnO1xuICAgICAgdGhpcy5ib2FyZC5hcHBlbmRDaGlsZChzdHlsZUVsKTtcbiAgICB9XG5cbiAgICBkaXNwbGF5TG9hZGVyKCkge1xuICAgICAgbGV0IG92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnb3ZlcmxheScpO1xuICAgICAgbGV0IGxvYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbG9hZGVyLmlubmVySFRNTCA9ICc8ZGl2PjwvZGl2PjxkaXY+PC9kaXY+JztcbiAgICAgIGxvYWRlci5jbGFzc0xpc3QuYWRkKCdsZHMtcmlwcGxlJyk7XG4gICAgICBvdmVybGF5LmFwcGVuZENoaWxkKGxvYWRlcik7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG92ZXJsYXkpO1xuICAgIH1cblxuICAgIGNyZWF0ZUJhY2tncm91bmQob3B0aW9ucykge1xuICAgICAgcmV0dXJuIG5ldyBCYWNrZ3JvdW5kKHRoaXMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGNyZWF0ZUhlYWRpbmcodGV4dCwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIG5ldyBIZWFkaW5nKHRoaXMsIHRleHQsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGNyZWF0ZUJsdXJiKHRleHQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBuZXcgQmx1cmIodGhpcywgdGV4dCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGNyZWF0ZUltYWdlKHNyYywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIG5ldyBJbWFnZSh0aGlzLCBzcmMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGFkZEFjdGlvbnMob3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMub3V0KSB7XG4gICAgICAgIHRoaXMuYWRkR3JvdXAoJ291dCcsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuaW4pIHtcbiAgICAgICAgdGhpcy5hZGRHcm91cCgnaW4nLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGFkZEdyb3VwKGFjdGlvbk5hbWUsIG9wdGlvbnMpIHtcbiAgICAgIGxldCBhY3Rpb25zID0gW107XG4gICAgICBvcHRpb25zW2FjdGlvbk5hbWVdLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIGxldCBhY3Rpb24gPSBuZXcgQWN0aW9uKGl0ZW0pO1xuICAgICAgICBhY3Rpb25zLnB1c2goYWN0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgbGV0IGdyb3VwID0gbmV3IEdyb3VwKGFjdGlvbk5hbWUsIGFjdGlvbnMpO1xuICAgICAgdGhpcy5ncm91cHMucHVzaChncm91cCk7XG4gICAgfVxuXG4gICAgbmV4dCgpIHtcbiAgICAgIGxldCBncm91cCA9IHRoaXMuZ3JvdXBzW3RoaXMuaW5kZXhdO1xuICAgICAgaWYgKGdyb3VwLmFjdGlvbk5hbWUgPT09ICdvdXQnKSB7XG4gICAgICAgIGlmICghZ3JvdXAuYWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGFjdGlvbnMgcHJvdmlkZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgZ3JvdXAuc3RvcCgpO1xuICAgICAgICB0aGlzLmluY3JlbWVudCgpO1xuICAgICAgICB0aGlzLm5leHQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdyb3VwLnJ1bigpO1xuICAgICAgICBpZiAodGhpcy5pbmRleCA8IHRoaXMuZ3JvdXBzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICB0aGlzLmluY3JlbWVudCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICBwcmV2aW91cyhpc0xhc3QpIHtcbiAgICAgIGlmICh0aGlzLmluZGV4ICE9PSAxKSB7XG4gICAgICAgIGlmICghaXNMYXN0KSB7XG4gICAgICAgICAgdGhpcy5kZWNyZW1lbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZ3JvdXAgPSB0aGlzLmdyb3Vwc1t0aGlzLmluZGV4XTtcbiAgICAgICAgaWYgKGdyb3VwLmFjdGlvbk5hbWUgPT09ICdpbicpIHtcbiAgICAgICAgICBpZiAoIWdyb3VwLmFjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGFjdGlvbnMgcHJvdmlkZWQuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGdyb3VwLnN0b3AoKTtcbiAgICAgICAgICBpZiAoaXNMYXN0KSB7XG4gICAgICAgICAgICB0aGlzLmRlY3JlbWVudCgpO1xuICAgICAgICAgICAgdGhpcy5wcmV2aW91cyh0cnVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcmV2aW91cyh0aGlzLmluZGV4ID09PSB0aGlzLmdyb3Vwcy5sZW5ndGggLSAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZ3JvdXAucnVuKCk7XG4gICAgICAgICAgdGhpcy5zY3JlZW5JbmRleC0tO1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gYHNjcmVlbiR7dGhpcy5zY3JlZW5JbmRleH1gO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3RhcnQoKSB7XG4gICAgICBpZiAoIXRoaXMuZ3JvdXBzLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGdyb3VwcyBvZiBhY3Rpb25zIGhhdmUgYmVlbiBhZGRlZCB5ZXQuJyk7XG4gICAgICB9XG4gICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2gpIHtcbiAgICAgICAgLy8gRnJhZ21lbnQgZXhpc3RzXG4gICAgICAgIGxldCBmcmFnID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG4gICAgICAgIGlmIChmcmFnLm1hdGNoKCdeI3NjcmVlblswLTldKyQnKSkge1xuICAgICAgICAgIHZhciBtYXRjaGVzID0gZnJhZy5tYXRjaCgnWzAtOV0rJyk7XG4gICAgICAgICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgICAgIHRoaXMuc2NyZWVuSW5kZXggPSBwYXJzZUludChtYXRjaGVzWzBdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMuc2NyZWVuSW5kZXggPiAwICYmIHRoaXMuc2NyZWVuSW5kZXggPD0gdGhpcy5ncm91cHMubGVuZ3RoIC8gMiArIDEpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zY3JlZW5JbmRleDsgaSsrKSB7XG4gICAgICAgICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNjcmVlbkluZGV4ID0gMTtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gJ3NjcmVlbjEnO1xuICAgICAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgICB0aGlzLnNjcmVlbkluZGV4Kys7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gJ3NjcmVlbjEnO1xuICAgICAgfVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm92ZXJsYXknKS5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7XG4gICAgfVxuXG4gICAgaW5jcmVtZW50KCkge1xuICAgICAgaWYgKHRoaXMuaW5kZXggIT09IHRoaXMuZ3JvdXBzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgdGhpcy5pbmRleCsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGRlY3JlbWVudCgpIHtcbiAgICAgIGlmICh0aGlzLmluZGV4ID4gMCkge1xuICAgICAgICB0aGlzLmluZGV4LS07XG4gICAgICB9XG4gICAgfVxuXG4gICAgYWRkUmVzb3VyY2VzKGRhdGEpIHtcbiAgICAgIGlmICghZGF0YS5yZXNvdXJjZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyByZXNvdXJjZXMgZXhpc3QgaW4gdGhlIGRhdGEuJyk7XG4gICAgICB9XG4gICAgICBsZXQgaXRlbXMgPSBbXTtcbiAgICAgIGRhdGEucmVzb3VyY2VzLmZvckVhY2gocmVzb3VyY2UgPT4ge1xuICAgICAgICBpZiAoIXJlc291cmNlLnR5cGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FsbCBpdGVtcyBtdXN0IGhhdmUgYSB0eXBlLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmVzb3VyY2UuaWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FsbCBpdGVtcyBtdXN0IGhhdmUgYW4gaWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyZXNvdXJjZS5vcHRpb25zKSB7XG4gICAgICAgICAgcmVzb3VyY2Uub3B0aW9ucyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHJlc291cmNlLm9wdGlvbnMuaWQgPSByZXNvdXJjZS5pZDtcbiAgICAgICAgc3dpdGNoIChyZXNvdXJjZS50eXBlKSB7XG4gICAgICAgICAgY2FzZSAnYmFja2dyb3VuZCc6XG4gICAgICAgICAgICBpdGVtcy5wdXNoKHRoaXMuY3JlYXRlQmFja2dyb3VuZChyZXNvdXJjZS5vcHRpb25zKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdoZWFkaW5nJzpcbiAgICAgICAgICAgIGl0ZW1zLnB1c2godGhpcy5jcmVhdGVIZWFkaW5nKHJlc291cmNlLnRleHQsIHJlc291cmNlLm9wdGlvbnMpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2JsdXJiJzpcbiAgICAgICAgICAgIGl0ZW1zLnB1c2godGhpcy5jcmVhdGVCbHVyYihyZXNvdXJjZS50ZXh0LCByZXNvdXJjZS5vcHRpb25zKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdpbWFnZSc6XG4gICAgICAgICAgICBpdGVtcy5wdXNoKHRoaXMuY3JlYXRlSW1hZ2UocmVzb3VyY2Uuc3JjLCByZXNvdXJjZS5vcHRpb25zKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGxldCBhY3Rpb25zID0gZGF0YS5hY3Rpb25zO1xuICAgICAgYWN0aW9ucy5mb3JFYWNoKGFjdGlvbiA9PiB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBhY3Rpb24pIHtcbiAgICAgICAgICBpZiAoYWN0aW9uLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIGxldCBhY3Rpb25zT2JqID0ge307XG4gICAgICAgICAgICBhY3Rpb25zT2JqW2tleV0gPSBbXTtcbiAgICAgICAgICAgIGxldCBpdGVtSWRzID0gYWN0aW9uW2tleV07XG4gICAgICAgICAgICBpdGVtSWRzLmZvckVhY2goaXRlbUlkID0+IHtcbiAgICAgICAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLmlkID09IGl0ZW1JZCkge1xuICAgICAgICAgICAgICAgICAgYWN0aW9uc09ialtrZXldLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5hZGRBY3Rpb25zKGFjdGlvbnNPYmopO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGdsb2JhbC5JbXByZXNpID0gSW1wcmVzaTtcbiAgcmV0dXJuIEltcHJlc2k7XG4gICB9KCk7XG5cbiAgIHJldHVybiBJbXByZXNpO1xuXG59KSkpOyIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsImltcG9ydCBJdGVtIGZyb20gXCIuL2l0ZW1cIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhY2tncm91bmQgZXh0ZW5kcyBJdGVtIHtcbiAgY29uc3RydWN0b3IoaW1wcmVzaSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoaW1wcmVzaSwgb3B0aW9ucyk7XG4gICAgdGhpcy5hZGRFbGVtZW50KFwiZGl2XCIpO1xuICB9XG5cbiAgYWRkRWxlbWVudChlbGVtZW50TmFtZSkge1xuICAgIHN1cGVyLmFkZEVsZW1lbnQoZWxlbWVudE5hbWUpO1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYmFja2dyb3VuZFwiLCBcIml0ZW1cIik7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5pbWFnZVVybCkge1xuICAgICAgbGV0IGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgIGltYWdlLnNyYyA9IHRoaXMub3B0aW9ucy5pbWFnZVVybDtcbiAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChpbWFnZSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5vcHRpb25zLmJhY2tncm91bmRDb2xvcjtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBUZXh0SXRlbSBmcm9tIFwiLi90ZXh0LWl0ZW0uanNcIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhlYWRpbmcgZXh0ZW5kcyBUZXh0SXRlbSB7XG4gIGNvbnN0cnVjdG9yKGltcHJlc2ksIHRleHQsIG9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKGltcHJlc2ksIG9wdGlvbnMpO1xuICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgdGhpcy56SW5kZXggPSAxO1xuICAgIHRoaXMuZGVmYXVsdEZvbnRTaXplID0gMjtcbiAgICB0aGlzLmFkZEVsZW1lbnQoXCJkaXZcIik7XG4gIH1cblxuICBhZGRFbGVtZW50KGVsZW1lbnROYW1lKSB7XG4gICAgc3VwZXIuYWRkRWxlbWVudChlbGVtZW50TmFtZSk7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJoZWFkaW5nXCIsIFwiaXRlbVwiKTtcbiAgICB2YXIgaDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDFcIik7XG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLnpJbmRleCA9IHRoaXMuekluZGV4O1xuICAgIGgxLmlubmVySFRNTCA9IHRoaXMudGV4dDtcbiAgICBzdXBlci5zZXRDaGlsZE9wdGlvbnMoaDEpO1xuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChoMSk7XG4gIH1cblxuXG59XG4iLCJpbXBvcnQgVGV4dEl0ZW0gZnJvbSBcIi4vdGV4dC1pdGVtLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCbHVyYiBleHRlbmRzIFRleHRJdGVtIHtcbiAgY29uc3RydWN0b3IoaW1wcmVzaSwgdGV4dCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoaW1wcmVzaSwgb3B0aW9ucyk7XG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB0aGlzLnpJbmRleCA9IDI7XG4gICAgdGhpcy5kZWZhdWx0Rm9udFNpemUgPSAxLjU7XG4gICAgdGhpcy5hZGRFbGVtZW50KFwiZGl2XCIpO1xuICB9XG5cbiAgYWRkRWxlbWVudChlbGVtZW50TmFtZSkge1xuICAgIHN1cGVyLmFkZEVsZW1lbnQoZWxlbWVudE5hbWUpO1xuICAgIHRoaXMuZWxlbWVudC5zdHlsZS5tYXhXaWR0aCA9IGAke3RoaXMub3B0aW9ucy53aWR0aH12d2A7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJibHVyYlwiLCBcIml0ZW1cIik7XG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLnpJbmRleCA9IHRoaXMuekluZGV4O1xuICAgIHZhciBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgcC5pbm5lckhUTUwgPSB0aGlzLnRleHQ7XG4gICAgc3VwZXIuc2V0Q2hpbGRPcHRpb25zKHApO1xuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChwKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JvdXAge1xuICAgIGNvbnN0cnVjdG9yKGFjdGlvbk5hbWUsIGFjdGlvbnMpIHtcbiAgICAgIHRoaXMuYWN0aW9uTmFtZSA9IGFjdGlvbk5hbWU7XG4gICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zO1xuICAgIH1cbiAgXG4gICAgcnVuKCkge1xuICAgICAgbGV0IGkgPSAwO1xuICAgICAgdGhpcy5hY3Rpb25zLmZvckVhY2goYWN0aW9uID0+IHtcbiAgICAgICAgYWN0aW9uLnJ1bigpO1xuICAgICAgICBpKys7XG4gICAgICB9KTtcbiAgICB9XG4gIFxuICAgIHN0b3AoKSB7XG4gICAgICBsZXQgaSA9IDA7XG4gICAgICB0aGlzLmFjdGlvbnMuZm9yRWFjaChhY3Rpb24gPT4ge1xuICAgICAgICBhY3Rpb24uc3RvcCgpO1xuICAgICAgICBpKys7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihpdGVtKSB7XG4gICAgICB0aGlzLml0ZW0gPSBpdGVtO1xuICAgICAgdGhpcy5pbkFuaW1hdGlvbk5hbWUgPVxuICAgICAgICB0aGlzLml0ZW0ub3B0aW9ucy5pbkFuaW1hdGlvbk5hbWUgIT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyBpdGVtLm9wdGlvbnMuaW5BbmltYXRpb25OYW1lXG4gICAgICAgICAgOiBcImZhZGVJblwiO1xuICAgICAgdGhpcy5vdXRBbmltYXRpb25OYW1lID1cbiAgICAgICAgaXRlbS5vcHRpb25zLm91dEFuaW1hdGlvbk5hbWUgIT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyBpdGVtLm9wdGlvbnMub3V0QW5pbWF0aW9uTmFtZVxuICAgICAgICAgIDogXCJmYWRlT3V0XCI7XG4gICAgfVxuICBcbiAgICBydW4oKSB7XG4gICAgICB0aGlzLml0ZW0uZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZVwiKTtcbiAgICAgIHRoaXMuaXRlbS5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5vdXRBbmltYXRpb25OYW1lKTtcbiAgICAgIHRoaXMuaXRlbS5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhbmltYXRlZFwiLCB0aGlzLmluQW5pbWF0aW9uTmFtZSk7XG4gICAgfVxuICBcbiAgICBzdG9wKCkge1xuICAgICAgdGhpcy5pdGVtLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImFuaW1hdGVkXCIsIHRoaXMuaW5BbmltYXRpb25OYW1lKTtcbiAgICAgIHRoaXMuaXRlbS5lbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5vdXRBbmltYXRpb25OYW1lKTtcbiAgICAgIHRoaXMuaXRlbS5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJoaWRlXCIpO1xuICAgIH1cbiAgfVxuICAiLCJpbXBvcnQgQWJzb2x1dGVJdGVtIGZyb20gXCIuL2Fic29sdXRlLWl0ZW1cIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEltYWdlIGV4dGVuZHMgQWJzb2x1dGVJdGVtIHtcbiAgICBjb25zdHJ1Y3RvcihpbXByZXNpLCBzcmMsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoaW1wcmVzaSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZGVmYXVsdEluQW5pbWF0aW9uTmFtZSA9IFwic2xpZGVJblVwXCI7XG4gICAgICAgIHRoaXMuc3JjID0gc3JjO1xuICAgICAgICB0aGlzLnpJbmRleCA9IDE7XG4gICAgICAgIHRoaXMuYWRkRWxlbWVudCgnaW1nJyk7XG4gICAgfVxuXG4gICAgYWRkRWxlbWVudChlbGVtZW50TmFtZSkge1xuICAgICAgICBzdXBlci5hZGRFbGVtZW50KGVsZW1lbnROYW1lKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy53aWR0aCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLm1heFdpZHRoID0gYCR7dGhpcy5vcHRpb25zLndpZHRofXZ3YDtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcHRpb25zLmluQW5pbWF0aW9uTmFtZSA9IHRoaXMub3B0aW9ucy5pbkFuaW1hdGlvbk5hbWUgIT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHRoaXMub3B0aW9ucy5pbkFuaW1hdGlvbk5hbWUgOiB0aGlzLmRlZmF1bHRJbkFuaW1hdGlvbk5hbWU7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJpbWFnZVwiLCBcIml0ZW1cIik7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS56SW5kZXggPSB0aGlzLnpJbmRleDtcbiAgICAgICAgdGhpcy5lbGVtZW50LnNyYyA9IHRoaXMuc3JjO1xuICAgIH1cbn0iLCJleHBvcnQgY29uc3Qgc3R5bGVzID0gXG5gXG5ib2R5IHtcbiAgbWFyZ2luOiAwO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbiosICo6YmVmb3JlLCAqOmFmdGVyIHtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbn1cblxuaDEsXG5wIHtcbiAgZm9udC1mYW1pbHk6IFwiTW9udHNlcnJhdFwiLCBzYW5zLXNlcmlmO1xufVxuXG4uaXRlbSB7XG4gIHZpc2liaWxpdHk6IGhpZGRlbjtcbn1cblxuLmFuaW1hdGVkIHtcbiAgdmlzaWJpbGl0eTogdmlzaWJsZTtcbn1cblxuLmhpZGUge1xuICBkaXNwbGF5OiBub25lO1xufVxuXG4uYmFja2dyb3VuZCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB3aWR0aDogMTAwdnc7XG4gIGhlaWdodDogMTAwdmg7XG59XG5cbi5iYWNrZ3JvdW5kIGltZyB7XG4gIGZsZXgtc2hyaW5rOiAwO1xuICBtaW4td2lkdGg6IDEwMCU7XG4gIG1pbi1oZWlnaHQ6IDEwMCU7XG59XG5cbi5oZWFkaW5nLFxuLmJsdXJiLFxuLmJhY2tncm91bmQsXG4uaW1hZ2Uge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJhY2tncm91bmQtY29sb3I6ICMzMzM7XG59XG5cbi5oZWFkaW5nLFxuLmJsdXJiIHtcbiAgcGFkZGluZzogMTVweDtcbn1cblxuLmhlYWRpbmcgaDEge1xuICBmb250LXNpemU6IDIuNGVtO1xufVxuXG4uYmx1cmIgcCB7XG4gIGZvbnQtc2l6ZTogMS40ZW07XG59XG5cbi5oZWFkaW5nIGgxLFxuLmJsdXJiIHAge1xuICBtYXJnaW46IDA7XG4gIGNvbG9yOiAjZmZmO1xufVxuLm92ZXJsYXkge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgei1pbmRleDogMTA7XG4gIGJhY2tncm91bmQtY29sb3I6ICMzMzM7XG4gIHdpZHRoOiAxMDB2dztcbiAgaGVpZ2h0OiAxMDB2aDtcbn1cblxuLmxkcy1yaXBwbGUge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgdG9wOiA0MHZoO1xuICBsZWZ0OiBjYWxjKDUwdncgLSAzMnB4KTtcbiAgd2lkdGg6IDY0cHg7XG4gIGhlaWdodDogNjRweDtcbn1cbi5sZHMtcmlwcGxlIGRpdiB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm9yZGVyOiA0cHggc29saWQgI2ZmZjtcbiAgb3BhY2l0eTogMTtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBhbmltYXRpb246IGxkcy1yaXBwbGUgMXMgY3ViaWMtYmV6aWVyKDAsIDAuMiwgMC44LCAxKSBpbmZpbml0ZTtcbn1cbi5sZHMtcmlwcGxlIGRpdjpudGgtY2hpbGQoMikge1xuICBhbmltYXRpb24tZGVsYXk6IC0wLjVzO1xufVxuQGtleWZyYW1lcyBsZHMtcmlwcGxlIHtcbiAgMCUge1xuICAgIHRvcDogMjhweDtcbiAgICBsZWZ0OiAyOHB4O1xuICAgIHdpZHRoOiAwO1xuICAgIGhlaWdodDogMDtcbiAgICBvcGFjaXR5OiAxO1xuICB9XG4gIDEwMCUge1xuICAgIHRvcDogLTFweDtcbiAgICBsZWZ0OiAtMXB4O1xuICAgIHdpZHRoOiA1OHB4O1xuICAgIGhlaWdodDogNThweDtcbiAgICBvcGFjaXR5OiAwO1xuICB9XG59XG5cblxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA2MDBweCkge1xuICAuaGVhZGluZyxcbiAgLmJsdXJiLFxuICAuaW1hZ2Uge1xuICAgIHBvc2l0aW9uOiBzdGF0aWM7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gIH1cblxuICAuaW1hZ2Uge1xuICAgIHdpZHRoOiAxMDB2dztcbiAgICBtYXgtd2lkdGg6IDEwMHZ3ICFpbXBvcnRhbnQ7XG4gIH1cblxuICAuaGVhZGluZyBoMSB7XG4gICAgZm9udC1zaXplOiA1dnc7XG4gIH1cblxuICAuYmx1cmIgcCB7XG4gICAgZm9udC1zaXplOiA0dnc7XG4gIH1cbn1cbmA7Il0sInNvdXJjZVJvb3QiOiIifQ==